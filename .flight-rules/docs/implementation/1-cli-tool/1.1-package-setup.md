# 1.1 Package Setup

## Overview

Establish the npm package structure, TypeScript configuration, and build pipeline for the r9stack CLI tool.

## Task Group Goals

- Create a publishable npm package with `r9stack` as the command name
- Configure TypeScript with strict settings and ESM output
- Set up build and development scripts
- Establish project structure conventions

---

## 1.1.1 Initialize npm Package

**Goal:** Create the base npm package with appropriate metadata.

**Steps:**
- Initialize package.json with name `r9stack`
- Set up bin entry pointing to compiled CLI
- Configure package metadata (description, keywords, license, repository)
- Add engines field for Node.js version requirements

**Status:** âœ… Complete

---

## 1.1.2 TypeScript Configuration

**Goal:** Configure TypeScript for CLI development with ESM output.

**Steps:**
- Create tsconfig.json with strict mode enabled
- Configure for ESM output (module: "ESNext", moduleResolution: "bundler")
- Set up source maps for debugging
- Configure path aliases if needed

**Status:** âœ… Complete

---

## 1.1.3 Build Pipeline

**Goal:** Set up build scripts for development and production.

**Steps:**
- Add build script using tsc
- Add dev script with watch mode
- Configure output directory structure
- Ensure bin entry is executable after build

**Status:** âœ… Complete

---

## 1.1.4 Project Structure

**Goal:** Establish directory conventions for the CLI codebase.

**Steps:**
- Create src/ directory for TypeScript source
- Create templates/ directory for project scaffold files
- Set up entry point at src/index.ts
- Add .gitignore for node_modules, dist, etc.

**Status:** âœ… Complete

**Note:** templates/ directory not needed for V1 since TanStack Start add-ons handle integrations.

---

## 1.1.5 Version Sync Script

**Goal:** Keep the r9stack version in sync across package.json and generated output.

**Reference:** Follow the pattern from [flight-rules/scripts/sync-version.js](https://github.com/ryanpacker/flight-rules)

**Steps:**
- Create scripts/sync-version.js to sync version to template files
- Add `r9stack_version: X.Y.Z` header to key template files (e.g., generated README)
- Configure npm "version" script to run sync before publish
- Ensure generated projects know which r9stack version created them

**Status:** ðŸ”µ Planned

