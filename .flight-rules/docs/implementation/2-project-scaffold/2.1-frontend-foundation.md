# 2.1 Frontend Foundation

## Overview

Define the frontend structure of a generated project. Most of this comes from the TanStack Start and shadcn/ui CLIs; r9stack adds the application shell and navigation patterns.

## What Comes From Official CLIs

**TanStack Start CLI provides:**
- React project structure
- File-based routing in `app/routes/`
- Vite build configuration
- TypeScript configuration
- Package.json with scripts

**shadcn/ui CLI provides:**
- Tailwind CSS configuration
- `components.json` configuration
- `lib/utils.ts` with cn() helper
- Base component styles

## What r9stack Adds

- Application shell (header, navigation, layout)
- Auth-aware user menu component
- Route structure for auth flows
- Protected route wrapper

---

## 2.1.1 TanStack Start Output (Reference)

**Goal:** Document what the TanStack Start CLI produces so we know the base state.

**Expected structure after `npm create @tanstack/start@latest`:**
```
app/
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ __root.tsx       # Root layout
â”‚   â””â”€â”€ index.tsx        # Home route
â”œâ”€â”€ client.tsx           # Client entry
â”œâ”€â”€ router.tsx           # Router configuration
â”œâ”€â”€ routeTree.gen.ts     # Generated route tree
â””â”€â”€ ssr.tsx              # SSR entry
public/
package.json
tsconfig.json
vite.config.ts
```

**Status:** ðŸ”µ Planned

---

## 2.1.2 shadcn/ui Output (Reference)

**Goal:** Document what shadcn/ui CLI adds to the project.

**Expected additions after `npx shadcn@latest init`:**
```
components/
â””â”€â”€ ui/                  # shadcn components go here
lib/
â””â”€â”€ utils.ts             # cn() utility
tailwind.config.ts       # Tailwind configuration
components.json          # shadcn configuration
globals.css              # Updated with Tailwind + theme
```

**Status:** ðŸ”µ Planned

---

## 2.1.3 Application Shell (r9stack adds)

**Goal:** Provide a functional application shell with navigation.

**Files to create:**
```
components/
â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ header.tsx       # Top navigation bar
â”‚   â”œâ”€â”€ sidebar.tsx      # Optional side navigation
â”‚   â””â”€â”€ user-menu.tsx    # Auth-aware user dropdown
â””â”€â”€ app-shell.tsx        # Main layout wrapper
```

**Steps:**
- Create header with logo/brand, navigation links, user menu
- Create user menu with login/logout, profile link
- Wire into root layout (`__root.tsx`)
- Make responsive for mobile

**Status:** ðŸ”µ Planned

---

## 2.1.4 Route Structure (r9stack adds)

**Goal:** Establish the standard route structure for an r9stack project.

**Routes to create:**
```
app/routes/
â”œâ”€â”€ __root.tsx           # Modified to include providers
â”œâ”€â”€ index.tsx            # Landing/home page
â”œâ”€â”€ login.tsx            # Redirects to AuthKit hosted login
â”œâ”€â”€ auth/
â”‚   â””â”€â”€ callback.tsx     # AuthKit OAuth callback
â””â”€â”€ dashboard/
    â”œâ”€â”€ __layout.tsx     # Protected layout with auth guard
    â”œâ”€â”€ index.tsx        # Dashboard home (protected)
    â””â”€â”€ settings.tsx     # User settings (protected)
```

> **Note:** API endpoints (webhooks, etc.) live in Convex (`convex/http.ts`), not in TanStack Start routes.

**Status:** ðŸ”µ Planned

---

## 2.1.5 shadcn Components to Add

**Goal:** Pre-install commonly needed shadcn components.

**Components to add via `npx shadcn@latest add`:**
- button
- card
- dropdown-menu
- avatar
- input
- label
- separator

**Status:** ðŸ”µ Planned
